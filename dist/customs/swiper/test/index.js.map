{"version":3,"file":"customs/swiper/test/index.js","sources":["webpack:///._node_modules__@babel_runtime@7.16.7@@babel_runtime_helpers_defineProperty.js","webpack:///._src_customs_swiper_test_index.js"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","//index.js\n//获取应用实例\nconst app = getApp()\n\nPage({\n  data: {\n    cards: [], // 卡片数据，一个包含所有卡片对象的数组\n    removed_cards: [],// 存放已经移除的卡片的索引数据，如果索引填充了其他卡片，需要将该索引移出\n    transition: true,//是否开启过渡动画\n    circling: false, // 是否列表循环\n    rotate_deg: 0,// 整个滑动过程旋转角度\n    slide_duration: 200,// 手指离开屏幕后滑出界面时长，单位(ms)毫秒\n    show_cards: 3,// 显示几张卡片\n    thershold: 60,// 松手后滑出界面阈值，单位px\n    scale_ratio: 0.07,// 下层卡片收缩力度\n    up_height: 40,// 下层卡片下移高度，单位rpx\n  },\n  onLoad: function () {\n    this.generateCards(5)\n  },\n  generateCards(num) {\n    const cards = []\n    for (let i = 0; i < num; i++) {\n      cards.push({\n        title: `卡片${i + 1}`,\n        src: `https://source.unsplash.com/collection/190727/500x600?id=${i}`,\n        desc: `这是一段卡片${i + 1}的描述。`\n      })\n    }\n    this.setData({\n      cards: cards,\n      current_cursor: cards.findIndex(item => item),\n      removed_cards: []\n    })\n  },\n  onSwitch: function (e) {\n    const { symbol } = e.currentTarget.dataset\n    switch (symbol) {\n      case 'loop':\n        this.setData({\n          circling: e.detail.value\n        })\n        break\n      case 'transition':\n        this.setData({\n          transition: e.detail.value\n        })\n        break\n    }\n  },\n  onSlide: function (e) {\n    const { symbol } = e.currentTarget.dataset\n    switch (symbol) {\n      case 'show_cards':\n      case 'rotate_deg':\n      case 'slide_duration':\n        this.setData({\n          [symbol]: e.detail.value\n        })\n        break\n    }\n  },\n  cardOperate(e) {\n    const { symbol } = e.currentTarget.dataset\n    const { cards } = this.data\n    switch (symbol) {\n      case 'add':\n        this.setData({\n          [`cards[${cards.length}]`]: {\n            title: `新增卡片${cards.length + 1}`,\n            src: `https://source.unsplash.com/collection/190727/600x600?id=${cards.length + 1}`,\n            desc: `这是一段新增卡片${cards.length + 1}的描述。`\n          }\n        })\n        break\n      case 'reset':\n        this.setData({\n          cards: null\n        }, () => {\n          this.generateCards(5)\n        })\n        break\n      case 'remove':\n        const { removeIndex } = e.currentTarget.dataset\n        const { removed_cards } = this.data\n        if (removed_cards.includes(parseInt(removeIndex))) return\n        removed_cards.push(parseInt(removeIndex))\n        this.setData({\n          [`cards[${removeIndex}]`]: null,\n          removed_cards\n        })\n        break\n    }\n  },\n  cardSwipe(e) {\n    const { direction, swiped_card_index, current_cursor } = e.detail\n    console.log(e.detail)\n    wx.showToast({\n      title: `卡片${swiped_card_index + 1}向${direction === 'left' ? '左' : '右'}滑`,\n      icon: 'none',\n      duration: 1000\n    })\n    this.setData({\n      current_cursor\n    })\n  }\n})\n"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACfA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AADA;AAGA;AAVA;AAYA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAPA;AASA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AA1BA;AA4BA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAGA;AArGA;;;;A","sourceRoot":""}